<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unified Workspace - API Reference</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3/dist/cdn.min.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Highlight.js for code syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <style>
        * { font-family: 'Inter', sans-serif; }
        code, pre, .mono { font-family: 'JetBrains Mono', monospace; }
        [x-cloak] { display: none !important; }

        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* Code block styling */
        .hljs {
            background: #f8fafc !important;
            padding: 1rem !important;
            border-radius: 0.5rem !important;
            font-size: 0.875rem;
        }
    </style>
</head>
<body class="bg-white text-gray-900" x-data="{ activeEndpoint: 'set' }">
    <!-- Header -->
    <header class="sticky top-0 z-40 bg-white border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <button onclick="history.back()" class="p-2 hover:bg-gray-100 rounded-lg transition">
                        <i data-lucide="arrow-left" class="w-5 h-5"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-semibold">API Reference</h1>
                        <p class="text-sm text-gray-600 mt-1">Unified Workspace REST API Documentation</p>
                    </div>
                </div>
                <a href="tests/" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2">
                    <i data-lucide="play" class="w-4 h-4"></i>
                    Test API
                </a>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-6 py-8 flex gap-8">
        <!-- Sidebar Navigation -->
        <aside class="w-64 flex-shrink-0 sticky top-20 h-fit">
            <nav class="bg-gray-50 rounded-lg border border-gray-200 p-4">
                <h2 class="font-semibold mb-3 flex items-center gap-2">
                    <i data-lucide="code-2" class="w-4 h-4"></i>
                    Endpoints
                </h2>
                <ul class="space-y-1 text-sm">
                    <li>
                        <button @click="activeEndpoint = 'set'"
                                :class="activeEndpoint === 'set' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-100'"
                                class="w-full text-left px-3 py-2 rounded-lg transition">
                            POST /set
                        </button>
                    </li>
                    <li>
                        <button @click="activeEndpoint = 'get'"
                                :class="activeEndpoint === 'get' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-100'"
                                class="w-full text-left px-3 py-2 rounded-lg transition">
                            GET /get
                        </button>
                    </li>
                    <li>
                        <button @click="activeEndpoint = 'list'"
                                :class="activeEndpoint === 'list' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-100'"
                                class="w-full text-left px-3 py-2 rounded-lg transition">
                            GET /list
                        </button>
                    </li>
                    <li>
                        <button @click="activeEndpoint = 'exists'"
                                :class="activeEndpoint === 'exists' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-100'"
                                class="w-full text-left px-3 py-2 rounded-lg transition">
                            GET /exists
                        </button>
                    </li>
                    <li>
                        <button @click="activeEndpoint = 'delete'"
                                :class="activeEndpoint === 'delete' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-100'"
                                class="w-full text-left px-3 py-2 rounded-lg transition">
                            DELETE /delete
                        </button>
                    </li>
                    <li>
                        <button @click="activeEndpoint = 'move'"
                                :class="activeEndpoint === 'move' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-100'"
                                class="w-full text-left px-3 py-2 rounded-lg transition">
                            POST /move
                        </button>
                    </li>
                    <li>
                        <button @click="activeEndpoint = 'copy'"
                                :class="activeEndpoint === 'copy' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-100'"
                                class="w-full text-left px-3 py-2 rounded-lg transition">
                            POST /copy
                        </button>
                    </li>
                    <li>
                        <button @click="activeEndpoint = 'clear'"
                                :class="activeEndpoint === 'clear' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-100'"
                                class="w-full text-left px-3 py-2 rounded-lg transition">
                            DELETE /clear
                        </button>
                    </li>
                    <li>
                        <button @click="activeEndpoint = 'export'"
                                :class="activeEndpoint === 'export' ? 'bg-blue-100 text-blue-707' : 'text-gray-600 hover:bg-gray-100'"
                                class="w-full text-left px-3 py-2 rounded-lg transition">
                            POST /export
                        </button>
                    </li>
                    <li>
                        <button @click="activeEndpoint = 'import'"
                                :class="activeEndpoint === 'import' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-100'"
                                class="w-full text-left px-3 py-2 rounded-lg transition">
                            POST /import
                        </button>
                    </li>
                    <li>
                        <button @click="activeEndpoint = 'info'"
                                :class="activeEndpoint === 'info' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-100'"
                                class="w-full text-left px-3 py-2 rounded-lg transition">
                            GET /info
                        </button>
                    </li>
                </ul>
            </nav>

            <!-- Authentication Info -->
            <div class="mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                <h3 class="font-semibold mb-2 flex items-center gap-2 text-sm">
                    <i data-lucide="key" class="w-4 h-4"></i>
                    Authentication
                </h3>
                <p class="text-xs text-gray-700 mb-2">All endpoints require Bearer token:</p>
                <code class="block text-xs bg-white p-2 rounded border border-yellow-200">
                    Authorization: Bearer sk_live_...
                </code>
            </div>

            <!-- Storage Architecture Info -->
            <div class="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4">
                <h3 class="font-semibold mb-2 flex items-center gap-2 text-sm">
                    <i data-lucide="hard-drive" class="w-4 h-4"></i>
                    Storage Architecture
                </h3>
                <div class="text-xs text-blue-700 space-y-1">
                    <p><strong>Files:</strong> /tmp/workspace/ (disk)</p>
                    <p><strong>Metadata:</strong> MongoDB references</p>
                    <p><strong>TTL:</strong> Independent of scope</p>
                    <p><strong>Organization:</strong> Scope-based paths</p>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 min-w-0">
            <!-- Production Release Update -->
            <div class="mb-6 bg-green-50 border border-green-200 rounded-lg p-4">
                <div class="flex items-start gap-3">
                    <i data-lucide="rocket" class="w-5 h-5 text-green-600 mt-0.5"></i>
                    <div>
                        <h3 class="font-semibold text-green-900 mb-1">ðŸš€ Production Release - September 28, 2025</h3>
                        <p class="text-sm text-green-800 mb-2">API improvements and fixes:</p>
                        <ul class="text-sm text-green-700 space-y-1">
                            <li>â€¢ Integration actions now use direct service calls</li>
                            <li>â€¢ Fixed endpoint paths: /integrations/actions/unified_workspace/...</li>
                            <li>â€¢ Assistant endpoint: /assistant/{id}/execute</li>
                            <li>â€¢ Removed hardcoded credentials from all code</li>
                            <li>â€¢ Full TypeScript validation passed</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Base URL -->
            <div class="mb-8 bg-gray-50 rounded-lg p-4">
                <h2 class="font-semibold mb-2">Base URL</h2>
                <code class="text-sm bg-white px-3 py-1 rounded border border-gray-200">http://localhost:3000/api/workspace</code>

                <!-- Scope Organization -->
                <div class="mt-4">
                    <h3 class="font-medium text-sm mb-2">Scope-Based Path Organization</h3>
                    <div class="grid grid-cols-2 gap-2 text-xs">
                        <div class="bg-white p-2 rounded border">
                            <span class="font-mono text-yellow-600">ðŸŸ¡ /temporary/</span><br>
                            <span class="text-gray-600">10min TTL, processing data</span>
                        </div>
                        <div class="bg-white p-2 rounded border">
                            <span class="font-mono text-blue-600">ðŸ”µ /session/&lt;id&gt;/</span><br>
                            <span class="text-gray-600">24h TTL, user sessions</span>
                        </div>
                        <div class="bg-white p-2 rounded border">
                            <span class="font-mono text-purple-600">ðŸŸ£ /agent/&lt;id&gt;/</span><br>
                            <span class="text-gray-600">7d TTL, agent resources</span>
                        </div>
                        <div class="bg-white p-2 rounded border">
                            <span class="font-mono text-green-600">ðŸŸ¢ /team/&lt;name&gt;/</span><br>
                            <span class="text-gray-600">30d TTL, shared files</span>
                        </div>
                        <div class="bg-white p-2 rounded border col-span-2">
                            <span class="font-mono text-gray-600">âš« /company/</span><br>
                            <span class="text-gray-600">Permanent, long-term documents</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Endpoint: SET -->
            <div x-show="activeEndpoint === 'set'" class="space-y-6">
                <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                    <div class="bg-blue-600 text-white px-6 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold">Store Content</h2>
                            <span class="px-3 py-1 bg-blue-700 rounded-full text-sm">POST /set</span>
                        </div>
                    </div>

                    <div class="p-6">
                        <p class="text-gray-700 mb-6">Store content at a specified path in the workspace.</p>

                        <h3 class="font-semibold mb-3">Request Body</h3>
                        <pre><code class="language-json">{
  "path": "/company/docs/readme.json",
  "content": {
    "title": "Documentation",
    "version": "1.0.0"
  },
  "metadata": {        // optional metadata
    "ttl": 3600000,    // TTL in milliseconds (independent of scope)
    "tags": ["docs", "policy"],
    "author": "admin"
  }
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">Response</h3>
                        <pre><code class="language-json">{
  "success": true,
  "message": "Content stored at /company/docs/readme.json",
  "path": "/company/docs/readme.json",
  "storage": "disk",
  "size": 245
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">Scope-Based Examples</h3>
                        <div class="space-y-4">
                            <div class="bg-yellow-50 p-3 rounded border border-yellow-200">
                                <h4 class="text-sm font-medium mb-2">ðŸŸ¡ Temporary Scope (10min TTL)</h4>
                                <pre class="text-xs"><code class="language-bash">curl -X POST /api/workspace/set \
  -d '{"path": "/temporary/process_abc123.json", "content": {"status": "processing"}}'</code></pre>
                            </div>
                            <div class="bg-blue-50 p-3 rounded border border-blue-200">
                                <h4 class="text-sm font-medium mb-2">ðŸ”µ Session Scope (24h TTL)</h4>
                                <pre class="text-xs"><code class="language-bash">curl -X POST /api/workspace/set \
  -d '{"path": "/session/user123/config.json", "content": {"theme": "dark"}}'</code></pre>
                            </div>
                            <div class="bg-gray-50 p-3 rounded border border-gray-200">
                                <h4 class="text-sm font-medium mb-2">âš« Company Scope (Permanent)</h4>
                                <pre class="text-xs"><code class="language-bash">curl -X POST /api/workspace/set \
  -d '{"path": "/company/policies/security.json", "content": {"version": "2.0"}, "metadata": {"ttl": 86400000}}'</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Endpoint: GET -->
            <div x-show="activeEndpoint === 'get'" class="space-y-6">
                <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                    <div class="bg-green-600 text-white px-6 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold">Retrieve Content</h2>
                            <span class="px-3 py-1 bg-green-700 rounded-full text-sm">GET /get</span>
                        </div>
                    </div>

                    <div class="p-6">
                        <p class="text-gray-700 mb-6">Retrieve content from a specified path.</p>

                        <h3 class="font-semibold mb-3">Query Parameters</h3>
                        <table class="w-full text-sm">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="text-left px-4 py-2">Parameter</th>
                                    <th class="text-left px-4 py-2">Type</th>
                                    <th class="text-left px-4 py-2">Required</th>
                                    <th class="text-left px-4 py-2">Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-t">
                                    <td class="px-4 py-2"><code>path</code></td>
                                    <td class="px-4 py-2">string</td>
                                    <td class="px-4 py-2">Yes</td>
                                    <td class="px-4 py-2">Path to retrieve content from</td>
                                </tr>
                            </tbody>
                        </table>

                        <h3 class="font-semibold mt-6 mb-3">Response</h3>
                        <pre><code class="language-json">{
  "success": true,
  "path": "/session/user123/config.json",
  "content": {
    "theme": "dark",
    "language": "en"
  },
  "found": true,
  "metadata": {
    "size": 156,
    "contentType": "application/json",
    "createdAt": "2025-01-28T10:30:00Z",
    "ttl": 86400000
  }
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">Scope-Based Retrieval Examples</h3>
                        <div class="space-y-2">
                            <pre class="text-sm"><code class="language-bash"># Session file
curl "http://localhost:3000/api/workspace/get?path=/session/user123/config.json" \
  -H "Authorization: Bearer sk_live_your_api_key"

# Company document
curl "http://localhost:3000/api/workspace/get?path=/company/policies/security.json" \
  -H "Authorization: Bearer sk_live_your_api_key"</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Endpoint: LIST -->
            <div x-show="activeEndpoint === 'list'" class="space-y-6">
                <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                    <div class="bg-purple-600 text-white px-6 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold">List Content</h2>
                            <span class="px-3 py-1 bg-purple-700 rounded-full text-sm">GET /list</span>
                        </div>
                    </div>

                    <div class="p-6">
                        <p class="text-gray-700 mb-6">List all paths under a specified prefix.</p>

                        <h3 class="font-semibold mb-3">Query Parameters</h3>
                        <table class="w-full text-sm">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="text-left px-4 py-2">Parameter</th>
                                    <th class="text-left px-4 py-2">Type</th>
                                    <th class="text-left px-4 py-2">Required</th>
                                    <th class="text-left px-4 py-2">Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-t">
                                    <td class="px-4 py-2"><code>prefix</code></td>
                                    <td class="px-4 py-2">string</td>
                                    <td class="px-4 py-2">No</td>
                                    <td class="px-4 py-2">Filter paths by prefix</td>
                                </tr>
                            </tbody>
                        </table>

                        <h3 class="font-semibold mt-6 mb-3">Response</h3>
                        <pre><code class="language-json">{
  "success": true,
  "paths": [
    "/company/docs/readme.json",
    "/company/docs/guidelines.md",
    "/company/policies/security.json"
  ],
  "scope": "company",
  "count": 3
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">Scope-Based Listing Examples</h3>
                        <div class="space-y-2">
                            <pre class="text-sm"><code class="language-bash"># List all company files
curl "http://localhost:3000/api/workspace/list?prefix=/company" \
  -H "Authorization: Bearer sk_live_your_api_key"

# List session files for specific user
curl "http://localhost:3000/api/workspace/list?prefix=/session/user123" \
  -H "Authorization: Bearer sk_live_your_api_key"

# List all temporary files
curl "http://localhost:3000/api/workspace/list?prefix=/temporary" \
  -H "Authorization: Bearer sk_live_your_api_key"</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Endpoint: EXISTS -->
            <div x-show="activeEndpoint === 'exists'" class="space-y-6">
                <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                    <div class="bg-orange-600 text-white px-6 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold">Check Existence</h2>
                            <span class="px-3 py-1 bg-orange-700 rounded-full text-sm">GET /exists</span>
                        </div>
                    </div>

                    <div class="p-6">
                        <p class="text-gray-700 mb-6">Check if content exists at a specified path.</p>

                        <h3 class="font-semibold mb-3">Query Parameters</h3>
                        <table class="w-full text-sm">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="text-left px-4 py-2">Parameter</th>
                                    <th class="text-left px-4 py-2">Type</th>
                                    <th class="text-left px-4 py-2">Required</th>
                                    <th class="text-left px-4 py-2">Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-t">
                                    <td class="px-4 py-2"><code>path</code></td>
                                    <td class="px-4 py-2">string</td>
                                    <td class="px-4 py-2">Yes</td>
                                    <td class="px-4 py-2">Path to check</td>
                                </tr>
                            </tbody>
                        </table>

                        <h3 class="font-semibold mt-6 mb-3">Response</h3>
                        <pre><code class="language-json">{
  "success": true,
  "exists": true,
  "path": "/test/data.json"
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">cURL Example</h3>
                        <pre><code class="language-bash">curl "http://localhost:3000/api/workspace/exists?path=/test/data.json" \
  -H "Authorization: Bearer sk_live_your_api_key"</code></pre>
                    </div>
                </div>
            </div>

            <!-- Endpoint: DELETE -->
            <div x-show="activeEndpoint === 'delete'" class="space-y-6">
                <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                    <div class="bg-red-600 text-white px-6 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold">Delete Content</h2>
                            <span class="px-3 py-1 bg-red-700 rounded-full text-sm">DELETE /delete</span>
                        </div>
                    </div>

                    <div class="p-6">
                        <p class="text-gray-700 mb-6">Delete content at a specified path.</p>

                        <h3 class="font-semibold mb-3">Query Parameters</h3>
                        <table class="w-full text-sm">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="text-left px-4 py-2">Parameter</th>
                                    <th class="text-left px-4 py-2">Type</th>
                                    <th class="text-left px-4 py-2">Required</th>
                                    <th class="text-left px-4 py-2">Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-t">
                                    <td class="px-4 py-2"><code>path</code></td>
                                    <td class="px-4 py-2">string</td>
                                    <td class="px-4 py-2">Yes</td>
                                    <td class="px-4 py-2">Path to delete</td>
                                </tr>
                            </tbody>
                        </table>

                        <h3 class="font-semibold mt-6 mb-3">Response</h3>
                        <pre><code class="language-json">{
  "success": true,
  "message": "Deleted /test/data.json",
  "deleted": true
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">cURL Example</h3>
                        <pre><code class="language-bash">curl -X DELETE "http://localhost:3000/api/workspace/delete?path=/test/data.json" \
  -H "Authorization: Bearer sk_live_your_api_key"</code></pre>
                    </div>
                </div>
            </div>

            <!-- Endpoint: MOVE -->
            <div x-show="activeEndpoint === 'move'" class="space-y-6">
                <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                    <div class="bg-indigo-600 text-white px-6 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold">Move Content</h2>
                            <span class="px-3 py-1 bg-indigo-700 rounded-full text-sm">POST /move</span>
                        </div>
                    </div>

                    <div class="p-6">
                        <p class="text-gray-700 mb-6">Move content from one path to another.</p>

                        <h3 class="font-semibold mb-3">Request Body</h3>
                        <pre><code class="language-json">{
  "fromPath": "/old/location.json",
  "toPath": "/new/location.json"
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">Response</h3>
                        <pre><code class="language-json">{
  "success": true,
  "message": "Moved from /old/location.json to /new/location.json"
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">cURL Example</h3>
                        <pre><code class="language-bash">curl -X POST http://localhost:3000/api/workspace/move \
  -H "Authorization: Bearer sk_live_your_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "fromPath": "/old/file.json",
    "toPath": "/new/file.json"
  }'</code></pre>
                    </div>
                </div>
            </div>

            <!-- Endpoint: COPY -->
            <div x-show="activeEndpoint === 'copy'" class="space-y-6">
                <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                    <div class="bg-cyan-600 text-white px-6 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold">Copy Content</h2>
                            <span class="px-3 py-1 bg-cyan-700 rounded-full text-sm">POST /copy</span>
                        </div>
                    </div>

                    <div class="p-6">
                        <p class="text-gray-700 mb-6">Copy content from one path to another.</p>

                        <h3 class="font-semibold mb-3">Request Body</h3>
                        <pre><code class="language-json">{
  "fromPath": "/source/file.json",
  "toPath": "/backup/file.json"
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">Response</h3>
                        <pre><code class="language-json">{
  "success": true,
  "message": "Copied from /source/file.json to /backup/file.json"
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">cURL Example</h3>
                        <pre><code class="language-bash">curl -X POST http://localhost:3000/api/workspace/copy \
  -H "Authorization: Bearer sk_live_your_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "fromPath": "/source/data.json",
    "toPath": "/backup/data.json"
  }'</code></pre>
                    </div>
                </div>
            </div>

            <!-- Endpoint: CLEAR -->
            <div x-show="activeEndpoint === 'clear'" class="space-y-6">
                <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                    <div class="bg-gray-600 text-white px-6 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold">Clear Content</h2>
                            <span class="px-3 py-1 bg-gray-700 rounded-full text-sm">DELETE /clear</span>
                        </div>
                    </div>

                    <div class="p-6">
                        <p class="text-gray-700 mb-6">Clear all content under a prefix or entire workspace.</p>

                        <h3 class="font-semibold mb-3">Query Parameters</h3>
                        <table class="w-full text-sm">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="text-left px-4 py-2">Parameter</th>
                                    <th class="text-left px-4 py-2">Type</th>
                                    <th class="text-left px-4 py-2">Required</th>
                                    <th class="text-left px-4 py-2">Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-t">
                                    <td class="px-4 py-2"><code>prefix</code></td>
                                    <td class="px-4 py-2">string</td>
                                    <td class="px-4 py-2">No</td>
                                    <td class="px-4 py-2">Clear only paths with this prefix</td>
                                </tr>
                            </tbody>
                        </table>

                        <h3 class="font-semibold mt-6 mb-3">Response</h3>
                        <pre><code class="language-json">{
  "success": true,
  "message": "Cleared /session/abc123",
  "cleared": "/session/abc123"
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">cURL Example</h3>
                        <pre><code class="language-bash">curl -X DELETE "http://localhost:3000/api/workspace/clear?prefix=/session/abc123" \
  -H "Authorization: Bearer sk_live_your_api_key"</code></pre>
                    </div>
                </div>
            </div>

            <!-- Endpoint: EXPORT -->
            <div x-show="activeEndpoint === 'export'" class="space-y-6">
                <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                    <div class="bg-teal-600 text-white px-6 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold">Export Data</h2>
                            <span class="px-3 py-1 bg-teal-700 rounded-full text-sm">POST /export</span>
                        </div>
                    </div>

                    <div class="p-6">
                        <p class="text-gray-700 mb-6">Export all data under a prefix as JSON.</p>

                        <h3 class="font-semibold mb-3">Request Body</h3>
                        <pre><code class="language-json">{
  "prefix": "/company/docs"  // optional: export only this prefix
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">Response</h3>
                        <pre><code class="language-json">{
  "success": true,
  "data": {
    "/company/docs/readme.json": {
      "title": "Documentation",
      "version": "1.0.0"
    },
    "/company/docs/guidelines.md": "# Guidelines\n..."
  },
  "count": 2
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">cURL Example</h3>
                        <pre><code class="language-bash">curl -X POST http://localhost:3000/api/workspace/export \
  -H "Authorization: Bearer sk_live_your_api_key" \
  -H "Content-Type: application/json" \
  -d '{"prefix": "/company"}'</code></pre>
                    </div>
                </div>
            </div>

            <!-- Endpoint: IMPORT -->
            <div x-show="activeEndpoint === 'import'" class="space-y-6">
                <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                    <div class="bg-pink-600 text-white px-6 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold">Import Data</h2>
                            <span class="px-3 py-1 bg-pink-700 rounded-full text-sm">POST /import</span>
                        </div>
                    </div>

                    <div class="p-6">
                        <p class="text-gray-700 mb-6">Import data from a JSON export.</p>

                        <h3 class="font-semibold mb-3">Request Body</h3>
                        <pre><code class="language-json">{
  "data": {
    "/imported/file1.json": {"key": "value"},
    "/imported/file2.txt": "Text content"
  }
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">Response</h3>
                        <pre><code class="language-json">{
  "success": true,
  "message": "Imported 2 items",
  "count": 2
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">cURL Example</h3>
                        <pre><code class="language-bash">curl -X POST http://localhost:3000/api/workspace/import \
  -H "Authorization: Bearer sk_live_your_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "data": {
      "/backup/config.json": {"restored": true}
    }
  }'</code></pre>
                    </div>
                </div>
            </div>

            <!-- Endpoint: INFO -->
            <div x-show="activeEndpoint === 'info'" class="space-y-6">
                <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                    <div class="bg-yellow-600 text-white px-6 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold">Workspace Info</h2>
                            <span class="px-3 py-1 bg-yellow-700 rounded-full text-sm">GET /info</span>
                        </div>
                    </div>

                    <div class="p-6">
                        <p class="text-gray-700 mb-6">Get information about the workspace.</p>

                        <h3 class="font-semibold mb-3">Response</h3>
                        <pre><code class="language-json">{
  "success": true,
  "totalItems": 23,
  "cacheSize": 23,
  "namespace": "unified-workspace",
  "storageMode": "in-memory",
  "maxCacheSize": 10000
}</code></pre>

                        <h3 class="font-semibold mt-6 mb-3">cURL Example</h3>
                        <pre><code class="language-bash">curl "http://localhost:3000/api/workspace/info" \
  -H "Authorization: Bearer sk_live_your_api_key"</code></pre>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Initialize syntax highlighting
        document.addEventListener('DOMContentLoaded', () => {
            hljs.highlightAll();
            lucide.createIcons();
        });

        // Re-highlight when changing tabs
        document.addEventListener('alpine:initialized', () => {
            Alpine.effect(() => {
                setTimeout(() => {
                    hljs.highlightAll();
                    lucide.createIcons();
                }, 100);
            });
        });
    </script>
</body>
</html>